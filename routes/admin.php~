<?php

use App\Http\Controllers\Admin\AdminController;
use App\Http\Controllers\Admin\AuthController;
use App\Http\Controllers\Admin\HomeController;
use App\Http\Controllers\Admin\TaskController;
use App\Http\Controllers\Admin\UserController;
use App\Http\Controllers\Admin\SubTaskController;
use App\Http\Controllers\admin\UserTaskController;
use App\Http\Controllers\user\UserController as UserUserController;
use Illuminate\Support\Facades\Route;
/*
|--------------------------------------------------------------------------
| admin Routes
|--------------------------------------------------------------------------
*/
Route::get('login',[AuthController::class,'login'])->name('login');
Route::post('do_login',[AuthController::class,'do_login'])->name('do_login');
Route::get('logout',[AuthController::class,'logout'])->name('logout');

Route::group(['middleware'=>'auth:admin','prefix'=>'dashboard'],function(){
    Route::get('home',[HomeController::class,'home'])->name('home');

    Route::resource('admins',AdminController::class);
    Route::resource('users',UserController::class);
    Route::resource('tasks',TaskController::class);
    Route::resource('sub',SubTaskController::class);
    Route::resource('assign',UserTaskController::class);
});
    
Route::group(['middleware'=>'auth:user','prefix'=>'dashboard'],function(){
    Route::resource('users_tasks',UserUserController::class);
    Route::get('home',[HomeController::class,'home'])->name('home');

});
